{
  "schemas": {
    "CreateProductRequest": {
      "type": "object",
      "required": ["name", "vendor_article", "recommend_price", "brand", "category"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Название продукта (обязательное поле)"
        },
        "vendor_article": {
          "type": "string",
          "description": "Артикул поставщика/производителя (обязательное поле)"
        },
        "recommend_price": {
          "type": "number",
          "format": "float",
          "minimum": 0.01,
          "exclusiveMinimum": true,
          "description": "Рекомендуемая цена за единицу товара (обязательное поле). Должна быть больше 0"
        },
        "brand": {
          "type": "string",
          "description": "Бренд/производитель продукта (обязательное поле)"
        },
        "category": {
          "type": "string",
          "description": "Категория товара (обязательное поле)"
        },
        "brand_id": {
          "type": "integer",
          "description": "ID бренда из системы классификации (опциональное поле)"
        },
        "category_id": {
          "type": "integer",
          "description": "ID категории из системы классификации (опциональное поле)"
        },
        "description": {
          "type": "string",
          "description": "Описание продукта включая характеристики (опциональное поле)"
        },
        "barcode": {
          "type": "string",
          "description": "Штрих-код продукта (опциональное поле)"
        },
        "image_urls": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "Массив URL изображений продукта. Поддерживаемые форматы: .jpg, .jpeg, .png, .gif, .webp"
        },
        "video_urls": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "Массив URL видео файлов продукта. Поддерживаемые форматы: .mp4, .avi, .mov, .wmv, .flv"
        },
        "model_3d_urls": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "Массив URL 3D моделей продукта. Поддерживаемые форматы: .obj, .fbx, .3ds, .dae, .stl"
        }
      },
      "description": "Поля created_at и updated_at выставляются сервером автоматически. Медиаданные сохраняются в отдельной таблице media."
    },
    "UpdateProductRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Название продукта"
        },
        "vendor_article": {
          "type": "string",
          "description": "Артикул поставщика/производителя"
        },
        "recommend_price": {
          "type": "number",
          "description": "Рекомендуемая цена за единицу товара"
        },
        "brand": {
          "type": "string",
          "description": "Бренд/производитель продукта"
        },
        "category": {
          "type": "string",
          "description": "Категория товара"
        },
        "brand_id": {
          "type": "integer",
          "description": "ID бренда из системы классификации"
        },
        "category_id": {
          "type": "integer",
          "description": "ID категории из системы классификации"
        },
        "description": {
          "type": "string",
          "description": "Описание продукта включая характеристики"
        },
        "barcode": {
          "type": "string",
          "description": "Штрих-код продукта"
        },
        "image_urls": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "Массив URL изображений продукта"
        },
        "video_urls": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "Массив URL видео файлов продукта"
        },
        "model_3d_urls": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "Массив URL 3D моделей продукта"
        }
      }
    },
    "BatchCreateProductRequest": {
      "type": "object",
      "required": ["products"],
      "properties": {
        "products": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/CreateProductRequest"
          },
          "description": "Массив продуктов для создания (максимум 100 продуктов за раз)"
        }
      },
      "description": "Пакетное создание продуктов с медиаданными. Все операции выполняются в транзакции."
    },
    "Offer": {
      "type": "object",
      "properties": {
        "offer_id": {
          "type": "integer",
          "description": "Уникальный идентификатор оффера"
        },
        "user_id": {
          "type": "integer",
          "description": "ID пользователя-создателя оффера"
        },
        "is_public": {
          "type": "boolean",
          "description": "Публичный оффер или нет"
        },
        "product_id": {
          "type": "integer",
          "description": "ID продукта"
        },
        "price_per_unit": {
          "type": "number",
          "description": "Цена за единицу товара"
        },
        "units_per_lot": {
          "type": "integer",
          "description": "Количество единиц в лоте"
        },
        "tax_nds": {
          "type": "integer",
          "description": "НДС в процентах"
        },
        "available_lots": {
          "type": "integer",
          "description": "Доступное количество лотов"
        },
        "latitude": {
          "type": "number",
          "description": "Координаты автоматически подтягиваются из склада"
        },
        "longitude": {
          "type": "number",
          "description": "Координаты автоматически подтягиваются из склада"
        },
        "warehouse_id": {
          "type": "integer",
          "description": "ID склада"
        },
        "offer_type": {
          "type": "string",
          "enum": ["sale", "buy"],
          "description": "Тип оффера: sale - продажа, buy - покупка"
        },
        "max_shipping_days": {
          "type": "integer",
          "default": 0,
          "description": "Максимальный срок поставки на склад в днях"
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "CreateOfferRequest": {
      "type": "object",
      "required": ["product_id", "offer_type", "price_per_unit", "available_lots", "tax_nds", "units_per_lot", "warehouse_id"],
      "properties": {
        "product_id": {
          "type": "integer",
          "description": "ID продукта для оффера"
        },
        "offer_type": {
          "type": "string",
          "enum": ["sale", "buy"],
          "description": "Тип оффера: sale - продажа, buy - покупка"
        },
        "price_per_unit": {
          "type": "number",
          "description": "Цена за единицу товара"
        },
        "available_lots": {
          "type": "integer",
          "description": "Доступное количество лотов"
        },
        "tax_nds": {
          "type": "integer",
          "description": "НДС в процентах"
        },
        "units_per_lot": {
          "type": "integer",
          "description": "Количество единиц в лоте"
        },
        "warehouse_id": {
          "type": "integer",
          "description": "ID склада"
        },
        "is_public": {
          "type": "boolean",
          "description": "Публичный оффер или нет"
        },
        "max_shipping_days": {
          "type": "integer",
          "description": "Максимальный срок поставки на склад в днях"
        }
      }
    },
    "UpdateOfferRequest": {
      "type": "object",
      "properties": {
        "price_per_unit": {
          "type": "number",
          "description": "Цена за единицу товара"
        },
        "available_lots": {
          "type": "integer",
          "description": "Доступное количество лотов"
        },
        "tax_nds": {
          "type": "integer",
          "description": "НДС в процентах"
        },
        "units_per_lot": {
          "type": "integer",
          "description": "Количество единиц в лоте"
        },
        "is_public": {
          "type": "boolean",
          "description": "Публичный оффер или нет"
        },
        "max_shipping_days": {
          "type": "integer",
          "description": "Максимальный срок поставки на склад в днях"
        },
        "warehouse_id": {
          "type": "integer",
          "description": "ID склада"
        }
      }
    },
    "CreateOffersRequest": {
      "type": "object",
      "required": ["offers"],
      "properties": {
        "offers": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/CreateOfferRequest"
          },
          "description": "Массив офферов для создания"
        }
      }
    },
    "Order": {
      "type": "object",
      "properties": {
        "order_id": {
          "type": "integer",
          "description": "Уникальный идентификатор заказа"
        },
        "total_amount": {
          "type": "number",
          "description": "Общая сумма заказа"
        },
        "is_multi": {
          "type": "boolean",
          "description": "Множественный заказ"
        },
        "offer_id": {
          "type": "integer",
          "description": "ID оффера"
        },
        "initiator_user_id": {
          "type": "integer",
          "description": "ID пользователя-инициатора заказа"
        },
        "counterparty_user_id": {
          "type": "integer",
          "description": "ID пользователя-контрагента"
        },
        "order_time": {
          "type": "string",
          "format": "date-time",
          "description": "Время создания заказа"
        },
        "price_per_unit": {
          "type": "number",
          "description": "Цена за единицу товара"
        },
        "units_per_lot": {
          "type": "integer",
          "description": "Количество единиц в лоте"
        },
        "lot_count": {
          "type": "integer",
          "description": "Количество лотов"
        },
        "notes": {
          "type": "string",
          "description": "Примечания к заказу"
        },
        "order_type": {
          "type": "string",
          "description": "Тип заказа"
        },
        "payment_method": {
          "type": "string",
          "description": "Способ оплаты"
        },
        "order_status": {
          "type": "string",
          "enum": ["pending", "confirmed", "processing", "shipped", "delivered", "cancelled", "rejected"],
          "description": "Статус заказа"
        },
        "shipping_address": {
          "type": "string",
          "description": "Адрес доставки"
        },
        "tracking_number": {
          "type": "string",
          "description": "Номер отслеживания"
        },
        "max_shipping_days": {
          "type": "integer",
          "description": "Максимальный срок поставки на склад в днях"
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "CreateOrderRequest": {
      "type": "object",
      "required": ["offer_id", "quantity"],
      "properties": {
        "offer_id": {
          "type": "integer",
          "description": "ID оффера для заказа"
        },
        "quantity": {
          "type": "integer",
          "minimum": 1,
          "maximum": 1000,
          "description": "Количество лотов для заказа"
        }
      }
    },
    "UpdateOrderStatusRequest": {
      "type": "object",
      "required": ["status"],
      "properties": {
        "status": {
          "type": "string",
          "enum": ["pending", "confirmed", "processing", "shipped", "delivered", "cancelled", "rejected"],
          "description": "Новый статус заказа"
        },
        "reason": {
          "type": "string",
          "description": "Причина изменения статуса"
        }
      }
    },
    "Warehouse": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "description": "Уникальный идентификатор склада"
        },
        "user_id": {
          "type": "integer",
          "description": "ID пользователя-владельца склада"
        },
        "name": {
          "type": "string",
          "description": "Название склада"
        },
        "address": {
          "type": "string",
          "description": "Адрес склада"
        },
        "latitude": {
          "type": "number",
          "description": "Широта"
        },
        "longitude": {
          "type": "number",
          "description": "Долгота"
        },
        "wb_id": {
          "type": "string",
          "description": "ID склада в Wildberries"
        },
        "working_hours": {
          "type": "string",
          "description": "Рабочие часы"
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "CreateWarehouseRequest": {
      "type": "object",
      "required": ["name", "address", "latitude", "longitude", "working_hours"],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 255,
          "description": "Название склада"
        },
        "address": {
          "type": "string",
          "minLength": 1,
          "maxLength": 500,
          "description": "Адрес склада"
        },
        "latitude": {
          "type": "number",
          "minimum": -90,
          "maximum": 90,
          "description": "Широта"
        },
        "longitude": {
          "type": "number",
          "minimum": -180,
          "maximum": 180,
          "description": "Долгота"
        },
        "working_hours": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100,
          "description": "Рабочие часы"
        }
      }
    },
    "UpdateWarehouseRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 255,
          "description": "Название склада"
        },
        "address": {
          "type": "string",
          "minLength": 1,
          "maxLength": 500,
          "description": "Адрес склада"
        },
        "latitude": {
          "type": "number",
          "minimum": -90,
          "maximum": 90,
          "description": "Широта"
        },
        "longitude": {
          "type": "number",
          "minimum": -180,
          "maximum": 180,
          "description": "Долгота"
        },
        "working_hours": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100,
          "description": "Рабочие часы"
        }
      }
    },
    "CreateBatchWarehouseRequest": {
      "type": "object",
      "required": ["warehouses"],
      "properties": {
        "warehouses": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/CreateWarehouseRequest"
          },
          "minItems": 1,
          "maxItems": 100,
          "description": "Массив складов для создания"
        }
      }
    }
  }
}
