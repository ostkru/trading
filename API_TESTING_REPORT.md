# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ API api.portaldata.ru

## üéØ –û–±–∑–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–î–∞—Ç–∞:** 14 –æ–∫—Ç—è–±—Ä—è 2025  
**–í—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 12:18 MSK  
**API Endpoint:** `http://api.portaldata.ru/v1/trading/`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û**

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. ‚úÖ –ë–∞–∑–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å API
```bash
curl "http://api.portaldata.ru/v1/trading/"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
```json
{
  "data": {
    "database": "MySQL",
    "message": "API –ü–æ—Ä—Ç–∞–ª–î–∞–Ω–Ω—ã—Ö.–†–§ –¥–æ—Å—Ç—É–ø–µ–Ω",
    "status": "running",
    "version": "v1"
  },
  "success": true
}
```

### 2. ‚úÖ –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
```bash
curl "http://api.portaldata.ru/v1/trading/api/search/products?query=—Å–≤–∞—Ä–æ—á–Ω—ã–π&limit=3"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- **–ù–∞–π–¥–µ–Ω–æ:** 407 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ:** 3 –ø—Ä–æ–¥—É–∫—Ç–∞
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:** ~0.018s
- **–ö–∞—á–µ—Å—Ç–≤–æ:** –í—ã—Å–æ–∫–æ–µ (score: 17.35)

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã:**
1. –°–≤–∞—Ä–æ—á–Ω—ã–π –∏–Ω–≤–µ—Ä—Ç–æ—Ä AW97I250
2. –°–≤–∞—Ä–æ—á–Ω—ã–π –∏–Ω–≤–µ—Ä—Ç–æ—Ä AW97I27N  
3. –°–≤–∞—Ä–æ—á–Ω—ã–π –∏–Ω–≤–µ—Ä—Ç–æ—Ä HWM4023

### 3. ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```bash
curl "http://api.portaldata.ru/v1/trading/api/search/products?category_id=1318&limit=2"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- **–ù–∞–π–¥–µ–Ω–æ:** 0 –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è 1318 –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –∏–Ω–¥–µ–∫—Å–µ)
- **–°—Ç–∞—Ç—É—Å:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### 4. ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ OpenSearch
```bash
curl "http://api.portaldata.ru/v1/trading/api/search/stats"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- **–í—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:** 313,560
- **–ò–Ω–¥–µ–∫—Å:** products
- **–°—Ç–∞—Ç—É—Å:** –ó–¥–æ—Ä–æ–≤—ã–π
- **–†–∞–∑–º–µ—Ä:** 31.4 MB

### 5. ‚úÖ –ü–æ–∏—Å–∫ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
```bash
curl -X POST "http://api.portaldata.ru/v1/trading/api/search/products/characteristics"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- **–ó–∞–ø—Ä–æ—Å:** "–∏–Ω–≤–µ—Ä—Ç–æ—Ä" + "–¢–∏–ø —Å–≤–∞—Ä–æ—á–Ω–æ–≥–æ –∞–ø–ø–∞—Ä–∞—Ç–∞": "–∏–Ω–≤–µ—Ä—Ç–æ—Ä–Ω—ã–π"
- **–ù–∞–π–¥–µ–Ω–æ:** 16 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ:** 2 –ø—Ä–æ–¥—É–∫—Ç–∞
- **Score:** 26.01 (–≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)

### 6. ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –¥—Ä—É–≥–∏–º –∑–∞–ø—Ä–æ—Å–∞–º
```bash
curl "http://api.portaldata.ru/v1/trading/api/search/products?query=—Ç–µ–ª–µ–≤–∏–∑–æ—Ä&limit=1"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- **–ù–∞–π–¥–µ–Ω–æ:** 111 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–í–æ–∑–≤—Ä–∞—â–µ–Ω:** –ê–Ω—Ç–µ–Ω–Ω–∞ –¥–ª—è —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞
- **Score:** 18.84

### 7. ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è
```bash
curl "http://api.portaldata.ru/v1/trading/api/search/products?query=–¥—Ä–µ–ª—å&limit=2&page=2"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- **–í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ:** 570 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞:** 2
- **–õ–∏–º–∏—Ç:** 2
- **–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ:** 2 –ø—Ä–æ–¥—É–∫—Ç–∞

### 8. ‚ùå –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ
```bash
curl "http://api.portaldata.ru/v1/trading/api/search/products?query=—Å–º–∞—Ä—Ç—Ñ–æ–Ω&sort=price_asc"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ùå –û—à–∏–±–∫–∞
```json
{
  "success": false,
  "error": "No mapping found for [price] in order to sort on"
}
```
**–ü—Ä–∏—á–∏–Ω–∞:** –í –∏–Ω–¥–µ–∫—Å–µ OpenSearch –Ω–µ—Ç –ø–æ–ª—è `price` –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

### 9. ‚úÖ –ü–æ–∏—Å–∫ –±–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
```bash
curl "http://api.portaldata.ru/v1/trading/api/search/products?query=—Å–º–∞—Ä—Ç—Ñ–æ–Ω&limit=1"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
- **–ù–∞–π–¥–µ–Ω–æ:** 3 –ø—Ä–æ–¥—É–∫—Ç–∞
- **–í–æ–∑–≤—Ä–∞—â–µ–Ω:** –ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –ª–∞–º–ø–∞ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–∞ –∏ –ø–æ–¥—Å—Ç–∞–≤–∫–∞ –ø–æ–¥ —Å–º–∞—Ä—Ç—Ñ–æ–Ω
- **Score:** 27.05

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –¢–µ—Å—Ç | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | –°—Ç–∞—Ç—É—Å |
|------|---------------|--------|
| –ë–∞–∑–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å | ~0.01s | ‚úÖ |
| –ü–æ–∏—Å–∫ "—Å–≤–∞—Ä–æ—á–Ω—ã–π" | ~0.018s | ‚úÖ |
| –ü–æ–∏—Å–∫ "—Ç–µ–ª–µ–≤–∏–∑–æ—Ä" | ~0.02s | ‚úÖ |
| –ü–æ–∏—Å–∫ "–¥—Ä–µ–ª—å" | ~0.015s | ‚úÖ |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ~0.05s | ‚úÖ |
| –ü–æ–∏—Å–∫ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º | ~0.03s | ‚úÖ |

**–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:** ~0.02s  
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** ‚úÖ **–û–¢–õ–ò–ß–ù–û**

## üîç –ö–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞

### –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ (score > 20):
- –ü–æ–∏—Å–∫ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º: 26.01
- –ü–æ–∏—Å–∫ "—Å–º–∞—Ä—Ç—Ñ–æ–Ω": 27.05

### –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ (score 15-20):
- –ü–æ–∏—Å–∫ "—Å–≤–∞—Ä–æ—á–Ω—ã–π": 17.35
- –ü–æ–∏—Å–∫ "—Ç–µ–ª–µ–≤–∏–∑–æ—Ä": 18.84

### –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
- ‚úÖ –í—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∑–∞–ø—Ä–æ—Å—É
- ‚úÖ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ–ª–Ω—ã–µ

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### OpenSearch —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- **–î–æ–∫—É–º–µ–Ω—Ç–æ–≤:** 313,560
- **–†–∞–∑–º–µ—Ä –∏–Ω–¥–µ–∫—Å–∞:** 31.4 MB
- **–°–µ–≥–º–µ–Ω—Ç–æ–≤:** 11
- **–ö—ç—à –∑–∞–ø—Ä–æ—Å–æ–≤:** 6/6 (100% hit rate)
- **–ü–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:** 183

### Nginx –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –¢–∞–π–º–∞—É—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞

## üö® –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ `price` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∏–Ω–¥–µ–∫—Å–µ OpenSearch  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `price` –≤ –º–∞–ø–ø–∏–Ω–≥ –∏–Ω–¥–µ–∫—Å–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è

### 2. ‚ö†Ô∏è –ü—É—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ category_id
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–∏—Å–∫ –ø–æ `category_id=1318` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
**–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ category_id –≤ –∏–Ω–¥–µ–∫—Å–µ

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
```json
// –î–æ–±–∞–≤–∏—Ç—å –≤ –º–∞–ø–ø–∏–Ω–≥ OpenSearch
{
  "properties": {
    "price": {
      "type": "float"
    }
  }
}
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ category_id
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ category_id –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –∏–Ω–¥–µ–∫—Å–µ

### 3. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ–∏—Å–∫–∞

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**API api.portaldata.ru —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!**

‚úÖ **–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç**  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã—Å–æ–∫–∞—è**  
‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞ —Ö–æ—Ä–æ—à–µ–µ**  
‚úÖ **Nginx –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ**  
‚úÖ **OpenSearch –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω**  

**–ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üöÄ

## üìã –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
curl "http://api.portaldata.ru/v1/trading/api/search/products?query=—Å–≤–∞—Ä–æ—á–Ω—ã–π&limit=5"

# –ü–æ–∏—Å–∫ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
curl -X POST "http://api.portaldata.ru/v1/trading/api/search/products/characteristics" \
  -H "Content-Type: application/json" \
  -d '{"query": "–∏–Ω–≤–µ—Ä—Ç–æ—Ä", "characteristics": {"–¢–∏–ø —Å–≤–∞—Ä–æ—á–Ω–æ–≥–æ –∞–ø–ø–∞—Ä–∞—Ç–∞": "–∏–Ω–≤–µ—Ä—Ç–æ—Ä–Ω—ã–π"}}'

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl "http://api.portaldata.ru/v1/trading/api/search/stats"

# –ü–∞–≥–∏–Ω–∞—Ü–∏—è
curl "http://api.portaldata.ru/v1/trading/api/search/products?query=–¥—Ä–µ–ª—å&page=2&limit=10"
```
