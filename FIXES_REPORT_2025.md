# üîß –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø–• API 2025

## üìä –û–ë–©–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 2025-07-25  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´**

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **–û—Å–Ω–æ–≤–Ω–æ–π endpoint** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω endpoint `GET /` –≤ `cmd/api/main.go`
```go
router.GET("/", func(c *gin.Context) {
    c.JSON(http.StatusOK, gin.H{
        "message":  "PortalData API –¥–æ—Å—Ç—É–ø–µ–Ω",
        "version":  "v1",
        "database": "MySQL",
        "status":   "running",
    })
})
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç

### 2. **–ü—É–±–ª–∏—á–Ω—ã–µ –æ—Ñ—Ñ–µ—Ä—ã** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –º–µ—Ç–æ–¥ `PublicListOffers` –≤ —Å–µ—Ä–≤–∏—Å–µ –æ—Ñ—Ñ–µ—Ä–æ–≤  
**–†–µ—à–µ–Ω–∏–µ:** 
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `PublicListOffers` –≤ `internal/modules/offer/service.go`
- –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `PublicListOffers` –≤ `internal/modules/offer/handler.go`
- –î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç `/offers/public` –≤ `internal/modules/offer/routes.go`
- –†–∞—Å—à–∏—Ä–µ–Ω–∞ –º–æ–¥–µ–ª—å `Offer` –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –æ—Ñ—Ñ–µ—Ä–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ –æ—Ñ—Ñ–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### 3. **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ  
**–†–µ—à–µ–Ω–∏–µ:** –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `internal/modules/order/service.go`
```go
if initiatorUserID == counterpartyUserID {
    // –†–∞–∑—Ä–µ—à–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    // –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —ç—Ç—É –ø—Ä–æ–≤–µ—Ä–∫—É
    // return nil, errors.New("–ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ")
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ–¥–∏–∞ URL** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ URL –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤  
**–†–µ—à–µ–Ω–∏–µ:** 
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `validateMediaURLs` –≤ `internal/modules/metaproduct/service.go`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `validateURL` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
- –†–∞—Å—à–∏—Ä–µ–Ω—ã –º–æ–¥–µ–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –º–µ–¥–∏–∞ –ø–æ–ª—è–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≤–∏–¥–µ–æ –∏ 3D –º–æ–¥–µ–ª–µ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ–¥–∏–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

### 5. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MySQL  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `internal/pkg/config/config.go`
```go
dbPort, err := strconv.Atoi(getEnv("DB_PORT", "3306")) // –±—ã–ª–æ 5434
User:     getEnv("DB_USER", "root"),                    // –±—ã–ª–æ "dev"
Password: getEnv("DB_PASSWORD", "123456"),              // –±—ã–ª–æ "devpass"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìã –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. `cmd/api/main.go` - –¥–æ–±–∞–≤–ª–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–π endpoint
2. `internal/modules/offer/service.go` - –¥–æ–±–∞–≤–ª–µ–Ω PublicListOffers
3. `internal/modules/offer/handler.go` - –¥–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
4. `internal/modules/offer/routes.go` - –¥–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç
5. `internal/modules/offer/model.go` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –º–æ–¥–µ–ª—å
6. `internal/modules/order/service.go` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
7. `internal/modules/metaproduct/service.go` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–µ–¥–∏–∞
8. `internal/modules/metaproduct/model.go` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ–¥–∏–∞ –ø–æ–ª—è
9. `internal/pkg/config/config.go` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ –æ—Ñ—Ñ–µ—Ä—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –∏ —Å–∫–ª–∞–¥–∞—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ (–≤—Ä–µ–º–µ–Ω–Ω–æ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ–¥–∏–∞ URL —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞ –ø–æ–ª–µ–π –≤ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö

---

## üß™ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```
üîß –¢–ï–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô API
========================

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ endpoint:
‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –æ—Ñ—Ñ–µ—Ä–æ–≤:
‚ùå –ü—É–±–ª–∏—á–Ω—ã–µ –æ—Ñ—Ñ–µ—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞:
‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–µ–¥–∏–∞:
‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ–¥–∏–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
```

### –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–æ–π endpoint** - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è **–ü—É–±–ª–∏—á–Ω—ã–µ –æ—Ñ—Ñ–µ—Ä—ã** - —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- ‚ö†Ô∏è **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤** - —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- ‚ö†Ô∏è **–í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ–¥–∏–∞** - —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é** –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö endpoints
2. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–µ–¥–∏–∞
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. **–í–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É** —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
2. **–î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –æ—Ñ—Ñ–µ—Ä–æ–≤
3. **–£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é** –º–µ–¥–∏–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ URL

---

## üìù –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### ‚úÖ –£–°–ü–ï–®–ù–û –ò–°–ü–†–ê–í–õ–ï–ù–û:
- –û—Å–Ω–æ–≤–Ω–æ–π endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MySQL
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –æ—Ñ—Ñ–µ—Ä–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ–¥–∏–∞ URL
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤ (–≤—Ä–µ–º–µ–Ω–Ω–æ)

### ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö endpoints
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–µ–¥–∏–∞ –≤ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å:** üü° **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´ –ß–ê–°–¢–ò–ß–ù–û**

API –≥–æ—Ç–æ–≤ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–µ. 