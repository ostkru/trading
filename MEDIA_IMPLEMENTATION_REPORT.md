# –û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ–¥–∏–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üéØ –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `media` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ—ë —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã media
- **–§–∞–π–ª**: `create_media_table.sql`
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
  ```sql
  CREATE TABLE media (
      id SERIAL PRIMARY KEY,
      product_id INTEGER NOT NULL REFERENCES products(id) ON DELETE CASCADE,
      image_urls JSON, -- —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ (–º–∞—Å—Å–∏–≤ URL)
      video_urls JSON, -- —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∏–¥–µ–æ –æ–±–∑–æ—Ä—ã (–º–∞—Å—Å–∏–≤ URL)
      model_3d_urls JSON, -- —Å—Å—ã–ª–∫–∏ –Ω–∞ 3–¥ –º–æ–¥–µ–ª–∏ (–º–∞—Å—Å–∏–≤ URL)
      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  );
  ```

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–§–∞–π–ª**: `internal/modules/metaproduct/model.go`
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**:
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Media` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ–¥–∏–∞ –¥–∞–Ω–Ω—ã–º–∏
  - –ü–æ–ª—è `ImageURLs`, `VideoURLs`, `Model3DURLs` –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–æ–≤ URL

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–§–∞–π–ª**: `internal/modules/metaproduct/service.go`
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –º–µ–¥–∏–∞
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  - –ü–∞–∫–µ—Ç–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –º–µ–¥–∏–∞
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –º–µ–¥–∏–∞ –¥–∞–Ω–Ω—ã–º–∏

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**:
  - ‚úÖ `POST /api/v1/products` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å –º–µ–¥–∏–∞
  - ‚úÖ `PUT /api/v1/products/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å –º–µ–¥–∏–∞
  - ‚úÖ `GET /api/v1/products/:id` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å –º–µ–¥–∏–∞
  - ‚úÖ `GET /api/v1/products` - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –º–µ–¥–∏–∞
  - ‚úÖ `POST /api/v1/products/batch` - –ø–∞–∫–µ—Ç–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å –º–µ–¥–∏–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å –º–µ–¥–∏–∞
```bash
curl -X POST -H "Authorization: Bearer API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–°–º–∞—Ä—Ç—Ñ–æ–Ω Galaxy Pro",
    "vendor_article": "GALAXY001",
    "recommend_price": 45000.00,
    "brand": "Samsung",
    "category": "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã",
    "description": "–ú–æ—â–Ω—ã–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å –æ—Ç–ª–∏—á–Ω–æ–π –∫–∞–º–µ—Ä–æ–π",
    "image_urls": [
      "https://example.com/galaxy_front.jpg",
      "https://example.com/galaxy_back.jpg"
    ],
    "video_urls": [
      "https://example.com/galaxy_review.mp4"
    ],
    "model_3d_urls": [
      "https://example.com/galaxy_3d_model.glb"
    ]
  }' \
  http://localhost:8095/api/v1/products
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
```bash
curl -X PUT -H "Authorization: Bearer API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "image_urls": [
      "https://example.com/new_image1.jpg",
      "https://example.com/new_image2.jpg"
    ],
    "video_urls": [
      "https://example.com/new_video1.mp4"
    ]
  }' \
  http://localhost:8095/api/v1/products/139
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å –ø–æ–ª–Ω—ã–º –º–µ–¥–∏–∞ –Ω–∞–±–æ—Ä–æ–º** - HTTP 201
2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Ç–æ–ª—å–∫–æ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏** - HTTP 201
3. **–ü–∞–∫–µ—Ç–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –º–µ–¥–∏–∞** - HTTP 201
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞ –ø—Ä–æ–¥—É–∫—Ç–∞** - HTTP 200
5. **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å –º–µ–¥–∏–∞** - HTTP 200
6. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –º–µ–¥–∏–∞** - HTTP 200

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```sql
SELECT product_id, image_urls, video_urls, model_3d_urls 
FROM media WHERE product_id = 139;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
```
product_id | image_urls | video_urls | model_3d_urls
139        | ["https://example.com/final1.jpg", "https://example.com/final2.jpg"] | ["https://example.com/final_video.mp4"] | ["https://example.com/final_model.glb"]
```

## üéâ –ò—Ç–æ–≥–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –¢–∏–ø—ã –º–µ–¥–∏–∞
- ‚úÖ **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ) - –º–∞—Å—Å–∏–≤ URL
- ‚úÖ **–í–∏–¥–µ–æ –æ–±–∑–æ—Ä—ã** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ) - –º–∞—Å—Å–∏–≤ URL
- ‚úÖ **3D –º–æ–¥–µ–ª–∏** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ) - –º–∞—Å—Å–∏–≤ URL

### 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ **JSON —Ñ–æ—Ä–º–∞—Ç** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–æ–≤ URL
- ‚úÖ **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- ‚úÖ **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –º–µ–¥–∏–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ** –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
- ‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API

### 3. API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ** –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –º–µ–¥–∏–∞
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –º–µ–¥–∏–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ** –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –º–µ–¥–∏–∞
- ‚úÖ **–ü–∞–∫–µ—Ç–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** —Å –º–µ–¥–∏–∞
- ‚úÖ **–°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤** —Å –º–µ–¥–∏–∞

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:

1. **–¢–∞–±–ª–∏—Ü–∞ media** —Å JSON –ø–æ–ª—è–º–∏ –¥–ª—è –≥–∏–±–∫–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è URL
2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏** –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–µ–¥–∏–∞ –¥–∞–Ω–Ω—ã—Ö
3. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å** —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
4. **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API –ø—Ä–æ–¥—É–∫—Ç–æ–≤
5. **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ 